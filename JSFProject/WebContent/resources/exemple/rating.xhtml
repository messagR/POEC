<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions">

	<cc:interface>
		<cc:attribute name="score" type="java.lang.Integer" required="true" />
		<cc:attribute name="maxScore" type="java.lang.Integer" default="100" />
		<cc:attribute name="totalStars" type="java.lang.Integer" default="10" />
	</cc:interface>
	
	<cc:implementation>
		<c:set var="filled" value="#{fn:substringBefore(cc.attrs.score / (cc.attrs.maxScore / cc.attrs.totalStars), '.')}"></c:set>
		<span style="font-size: 1.5em;">
			<c:forEach begin="1" end="#{cc.attrs.totalStars}" varStatus="loop">
				<h:outputText value="&#9733;" rendered="#{loop.index le filled}" />
				<h:outputText value="&#9734;" rendered="#{loop.index gt filled}" />
			</c:forEach>
		</span>
	</cc:implementation>
</html>